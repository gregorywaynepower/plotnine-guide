---
title: "Geometric objects"
jupyter: python3
---

```{python}
from plotnine import *
from plotnine.data import diamonds, mpg
from palmerpenguins import load_penguins

penguins = load_penguins()
```

## Kinds of geoms

Geoms come in two varieties:

* Individual geoms: draw each row of data independently on the chart.
* Collective geoms: draw based on groups of rows, or relationships between them.

::: {.small-img}

```{python}
#| echo: false
small_mpg = (
    mpg[mpg["class"].isin(["2seater", "compact", "midsize"])]
    .assign(**{"class": lambda d: d["class"].cat.remove_unused_categories()})
)
model_avg_hwy = (
    small_mpg
    .groupby(["year", "class"])["hwy"]
    .agg("mean")
    .reset_index()
)

big_text = theme_grey(base_size=24)

p1 = ggplot(small_mpg, aes("class", "hwy")) + geom_boxplot() + labs(title="collective: boxplot") + big_text
p2 = ggplot(small_mpg, aes("class", "hwy")) + geom_point(position = position_jitter(height=0, width=0.1)) + labs(title="individual: point") + big_text
p3 = (
    ggplot(model_avg_hwy, aes("year", "hwy", color="class", group="class")) 
    + geom_line()
    + geom_point()
    + labs(title = "collective: line")
    + big_text
    + theme(legend_position="bottom")
    + scale_color_discrete(drop=True)
)

p2
```


```{python}
#| echo: false
p1
```

```{python}
#| echo: false
p3
```

:::


## Individual: points and text

## Collective: distributions

## Collective: lines and fills

## Manually set color

## `position=` for placement tweaks

## `na_rm=` to silence missing value warnings

## `stat=` for statistical calculations





individual:

* area chart
* barchart
* line
* point
* rect, tile, raster
* text

collective:

* smooth
* histogram
* density
* boxplots
* combined (e.g. boxplots and lines)
