---
title: Facets (subplots)
jupyter: python3
---

```{python}
from plotnine import *
from plotnine.data import mpg, penguins
```

```{python}
(
    ggplot(mpg, aes("displ", "hwy", color="class")) + geom_point()
)
```

## facet_wrap(): a sequence of subplots

```{python}
(
    ggplot(mpg, aes("displ", "hwy", color="class"))
    + geom_point(show_legend=False)
    + facet_wrap("class")
)
```

```{python}
(
    ggplot(mpg, aes("displ", "hwy", color="class"))
    + geom_point(show_legend=False)
    + facet_wrap("~class", ncol=2)
)
```


## facet_grid(): a matrix of subplots

```{python}
(ggplot(mpg, aes("displ", "hwy")) + geom_point() + facet_grid("cyl ~ year")) 
```

## facetting on multiple variables

## `scales=` for freeing axes

## `labeller=` for facet names

By default, facets label each subplot based on values in the data. For example, facetting on `species` uses each of the three species types (e.g. Adelie) to label the subplots:

```{python}
p = (
    ggplot(penguins, aes("flipper_length_mm", "body_mass_g", color="species"))
    + geom_point()
)

p + facet_wrap("~species + year")
```

```{python}
p + facet_wrap("~species + year", labeller="label_both")
```
